# ğŸ§ Linux Filesystem Hierarchy and Troubleshooting Issues

---

# ğŸ“‚ Filesystem Hierarchy

---

## ğŸ”¹ Directory: `/`

### What does it contain?
The `/` directory is the top-most directory in the Linux filesystem hierarchy.  
All files and directories are organized under this directory, making it the starting point of the filesystem.

### Files/Folders noticed from:
```
ls -l /
```

- `/etc`
- `/bin`
- `/home`
- `/root`
- `/var`
- `/usr`
- `/opt`
- `/tmp`

### I would use this whenâ€¦
Navigating to any directory in the system and understanding the overall filesystem structure.

---

## ğŸ”¹ Directory: `/home`

### What it contains:
Contains home (workspace) directories of individual users.  
Each user stores personal files, configurations, and data here.

### Files/Folders noticed from:
```
ls -l /home
```

- ubuntu  
- Shivkumar  

### I would use this whenâ€¦
Accessing or managing files, configurations, or permissions related to specific user accounts.

---

## ğŸ”¹ Directory: `/root`

### What it contains:
Contains files and configuration related to the root user.

### Observation:
Running:
```
ls -l /root
```
Resulted in **Permission denied**

Running:
```
sudo ls -l /root
```
Showed:
- snap

### I would use this whenâ€¦
Performing administrative or system-level tasks requiring root access.

---

## ğŸ”¹ Directory: `/etc`

### What it contains:
System-wide configuration files and directories for installed and preinstalled services such as:

- SSH  
- cron  
- systemd  
- nginx  
- docker  
- python3  

### Files/Folders noticed:
- `.conf` configuration files  
- Directories like `ssh`, `nginx`, `docker`, `cron`, `systemd`

### I would use this whenâ€¦
Configuring, modifying, or troubleshooting system and service-level settings.

---

## ğŸ”¹ Directory: `/var/log`

### What it contains:
Log files generated by the system and various services.  
Records system events, errors, and service activity.

### Files/Folders noticed:
- `syslog`
- Files with `.log` extension
- Directories like `journal`, `chrony`, `apt`

### I would use this whenâ€¦
Troubleshooting issues, investigating errors, or checking system/application behavior.

---

## ğŸ”¹ Directory: `/tmp`

### What it contains:
Temporary files and directories created by the system and applications for short-term use.

### I would use this whenâ€¦
Storing temporary files during testing or cleaning up temporary data to free system space.

---

## ğŸ”¹ Directory: `/bin`

### What it contains:
Essential command binaries required for basic system operation.  
Available even in recovery mode.

### Files noticed:
- `cp`
- `ls`
- `mkdir`

### I would use this whenâ€¦
Performing basic file and system operations, especially during troubleshooting or recovery.

---

## ğŸ”¹ Directory: `/usr/bin`

### What it contains:
User-level command binaries for day-to-day operations.  
Not required for minimal system boot.

### Files noticed:
- `zcat`
- `zip`
- `gunzip`
- `vim`

### I would use this whenâ€¦
Performing regular user tasks like editing files, compressing/extracting files, and running utilities.

---

## ğŸ”¹ Directory: `/opt`

### What it contains:
Optional or third-party software installed separately from the OS.

### Files noticed:
- `containerd`

### I would use this whenâ€¦
Installing or managing third-party applications not part of default Linux packages.

---

# ğŸ“Š Log Size Analysis

### Command:
```
du -sh /var/log/* 2>/dev/null | sort -h | tail -5
```

### Observation:
The largest logfile in `/var/log` directory was:
- `journal`

---

# ğŸ” Additional Useful Commands

### Get Hostname:
```
cat /etc/hostname
```

Returns the hostname of the server.

---

### List All Files (Including Hidden):
```
ls -la ~
```

Returns all files, including those starting with `.`

---

# ğŸ›  Part 2 â€“ Troubleshooting Scenarios

---

## ğŸš¨ Scenario 1: Service Not Starting

A service called `myapp` failed to start after reboot.

### Commands to Diagnose:

1. Check service status:
```
systemctl status myapp
```

2. Check if enabled at boot:
```
systemctl is-enabled myapp
```

3. Check logs:
```
journalctl -u myapp
```

4. Try starting service:
```
systemctl start myapp
```

5. Check logs from last boot:
```
journalctl -u myapp -b
```

6. Enable service:
```
systemctl enable myapp
```

---

## ğŸ”¥ Scenario 2: High CPU Usage

Application server is slow.

### Commands:

1. Check real-time CPU usage:
```
top
```

2. Enhanced monitoring:
```
htop
```

3. Identify high CPU processes:
```
ps aux --sort=-%cpu | head -10
```

---

## ğŸ“œ Scenario 3: Finding Service Logs

Logs for `docker` service (managed by systemd).

### Commands:

1. Check service status:
```
systemctl status docker
```

2. Last 10 log lines:
```
journalctl -u docker -n 10
```

3. Real-time logs:
```
journalctl -u docker -f
```

---

## ğŸ” Scenario 4: File Permission Issue

Script `/home/user/backup.sh` gives **Permission denied**.

### Commands:

1. Check permissions:
```
ls -l /home/user/backup.sh
```

2. Add execute permission:
```
chmod +x /home/user/backup.sh
```

3. Verify permissions:
```
ls -l /home/user/backup.sh
```

4. Run script:
```
./backup.sh
```

---

# âœ… Key Learning Summary

- Understood Linux filesystem hierarchy
- Identified purpose of major directories
- Practiced log analysis
- Diagnosed service failures
- Investigated high CPU issues
- Fixed file permission problems

---

ğŸš€ **Linux Filesystem & Troubleshooting Practice Completed**
